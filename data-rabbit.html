<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <title>Rabbitçš„è¯—è¯åº“ Â· 10ä¸ªä¸»é¢˜è®°å¿†è®°å½•è¡¨</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        * { box-sizing: border-box; }

        body {
          margin: 0;
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
            "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
          background: linear-gradient(135deg, #fdf6ec, #fefefe);
          color: #333;
        }

        .app {
          max-width: 1120px;
          margin: 0 auto;
          min-height: 100vh;
          display: flex;
          border-left: 1px solid rgba(0,0,0,0.05);
          border-right: 1px solid rgba(0,0,0,0.05);
          background: rgba(255,255,255,0.85);
          backdrop-filter: blur(10px);
        }

        .sidebar {
          width: 240px;
          border-right: 1px solid rgba(0,0,0,0.06);
          background: #fff9f2;
          padding: 12px 10px 16px;
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .sidebar-title {
          font-size: 18px;
          font-weight: 600;
          margin-bottom: 4px;
          padding-left: 4px;
        }

        .theme-btn {
          border: none;
          outline: none;
          width: 100%;
          text-align: left;
          padding: 10px 12px;
          border-radius: 999px;
          font-size: 20px;
          cursor: pointer;
          background: transparent;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 8px;
          transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
          min-height: 44px; /* è§¦æ§æ›´å®¹æ˜“ */
        }

        .theme-main {
          display: inline-flex;
          align-items: baseline;
          gap: 4px;
        }

        .theme-name {
          font-weight: 500;
        }

        .theme-count {
          font-size: 12px;
          opacity: 0.8;
        }

        .theme-right {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          font-size: 11px;
          opacity: 0.8;
        }

        .theme-complete-dot {
          width: 10px;
          height: 10px;
          border-radius: 50%;
          background: #1f9c5a;
          box-shadow: 0 0 0 2px rgba(31,156,90,0.18);
        }

        .theme-btn:hover {
          background: rgba(255, 194, 128, 0.18);
          transform: translateY(-1px);
        }

        .theme-btn.active {
          background: linear-gradient(135deg, #ffb86c, #ff9a9e);
          color: #fff;
          box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .theme-btn.active .theme-count {
          opacity: 0.95;
        }

        .content {
          flex: 1;
          padding: 16px 18px 24px;
        }

        .header {
          margin-bottom: 10px;
        }

        .header-title {
          font-size: 20px;
          font-weight: 600;
          margin-bottom: 4px;
        }

        .header-desc {
          font-size: 13px;
          color: #666;
        }

        .legend {
          margin: 10px 0 10px;
          display: flex;
          flex-wrap: wrap;
          gap: 10px;
          font-size: 12px;
          align-items: center;
        }

        .legend-item {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          padding: 4px 8px;
          border-radius: 999px;
          background: rgba(0,0,0,0.02);
        }

        .dot {
          width: 14px;
          height: 14px;
          border-radius: 50%;
          border: 1px solid rgba(0,0,0,0.15);
        }

        .dot-black { background: #222; }
        .dot-pink  { background: #ff7ab8; }
        .dot-green { background: #36b26f; }
        .dot-red   { background: #9b59b6; } /* å®é™…ä¸ºç´«è‰² */

        /* é¡¶éƒ¨æ¨¡å¼æ  */
        .mode-bar {
          margin: 12px 0 8px;
          display: flex;
          align-items: center;
          gap: 10px;
          flex-wrap: wrap;
        }

        .mode-label {
          font-size: 13px;
          color: #555;
        }

        .mode-group {
          display: inline-flex;
          border-radius: 999px;
          background: rgba(0,0,0,0.04);
          padding: 2px;
        }

        .mode-btn {
          border: none;
          outline: none;
          padding: 6px 14px;
          border-radius: 999px;
          font-size: 13px;
          cursor: pointer;
          background: transparent;
          transition: background 0.15s, color 0.15s;
          min-width: 80px;
        }

        .mode-btn.active {
          background: #ffb86c;
          color: #fff;
          box-shadow: 0 1px 4px rgba(0,0,0,0.15);
        }

        .poem-list-wrapper {
          border-radius: 18px;
          background: #fff;
          border: 1px solid rgba(0,0,0,0.04);
          box-shadow: 0 4px 12px rgba(0,0,0,0.04);
          padding: 8px 10px 4px;
        }

        .poem-list {
          list-style: none;
          margin: 0;
          padding: 0;
        }

        .poem-item {
          padding: 10px 6px 10px 4px;
          border-bottom: 1px dashed rgba(0,0,0,0.06);
          cursor: pointer;
          transition: background 0.15s, transform 0.05s;
          border-radius: 12px;
          margin: 1px 0;
          display: flex;
          align-items: flex-start;
          gap: 10px;
          min-height: 44px; /* æé«˜è§¦æ§åŒºåŸŸ */
        }

        .poem-item:last-child {
          border-bottom: none;
        }

        .poem-item:hover {
          background: rgba(255, 240, 220, 0.4);
          transform: translateY(-0.5px);
        }

        .poem-index {
          width: 32px;
          text-align: right;
          font-size: 13px;
          color: #999;
          flex-shrink: 0;
          padding-top: 2px;
        }

        .poem-content {
          flex: 1;
          min-width: 0;
        }

        .poem-sentence {
          font-size: 16px;
          line-height: 1.5;
        }

        .poem-meta {
          font-size: 12px;
          color: #999;
          margin-top: 2px;
        }

        .poem-eye {
          flex-shrink: 0;
          padding-left: 6px;
          padding-right: 4px;
          display: flex;
          align-items: center;
          justify-content: center;
          height: 100%;
        }

        .eye-btn {
          border: none;
          background: rgba(0,0,0,0.04);
          cursor: pointer;
          padding: 8px 10px;
          border-radius: 999px;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          transition: background 0.15s, transform 0.05s;
          font-size: 20px;
          min-width: 40px;
          min-height: 40px; /* åŠ å¤§è§¦æ§é¢ç§¯ */
        }

        .eye-btn:hover {
          background: rgba(0,0,0,0.1);
          transform: translateY(-0.5px);
        }

        /* çŠ¶æ€é¢œè‰²ï¼šé»˜è®¤é»‘ / ç²‰ / ç»¿ / ç´« */
        .status-default .poem-sentence {
          color: #222;
        }

        .status-bomb .poem-sentence {
          color: #ff4fa5; /* ç²‰è‰²ï¼šç‚¸å¼¹ */
          font-weight: 600;
        }

        .status-bullet .poem-sentence {
          color: #1f9c5a; /* ç»¿è‰²ï¼šå­å¼¹ */
          font-weight: 600;
        }

        .status-unfamiliar .poem-sentence {
          color: #8e44ad; /* ç´«è‰²ï¼šéå¸¸ä¸ç†Ÿæ‚‰ */
          font-weight: 600;
        }

        .status-bomb {
          background: linear-gradient(90deg, rgba(255,182,193,0.25), rgba(255,255,255,0));
        }

        .status-bullet {
          background: linear-gradient(90deg, rgba(152,251,152,0.25), rgba(255,255,255,0));
        }

        .status-unfamiliar {
          background: linear-gradient(90deg, rgba(155,89,182,0.18), rgba(255,255,255,0));
        }

        .highlight-word {
          color: #e67e22;
          font-weight: 700;
          background: rgba(230, 126, 34, 0.12);
          border-radius: 4px;
          padding: 0 1px;
        }

        .hint {
          margin-top: 8px;
          font-size: 12px;
          color: #888;
        }

        /* Modal æµ®æ¡† */
        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.45);
          display: none;
          align-items: center;
          justify-content: center;
          z-index: 1000;
        }

        .modal-overlay.active {
          display: flex;
        }

        .modal-dialog {
          max-width: 680px;
          width: 90%;
          background: #fff;
          border-radius: 18px;
          box-shadow: 0 12px 30px rgba(0,0,0,0.25);
          padding: 18px 20px 16px;
          position: relative;
        }

        .modal-close {
          position: absolute;
          right: 10px;
          top: 8px;
          border: none;
          background: transparent;
          font-size: 22px;
          cursor: pointer;
          color: #999;
          padding: 6px 8px;
          border-radius: 999px;
        }

        .modal-close:hover {
          background: rgba(0,0,0,0.06);
          color: #666;
        }

        .modal-title {
          font-size: 14px;
          color: #666;
          margin-bottom: 10px;
          text-align: center;
        }

        .modal-sentence {
          font-size: 28px;
          line-height: 1.7;
          text-align: center;
          margin-bottom: 10px;
        }

        .modal-meta {
          font-size: 13px;
          color: #777;
          text-align: center;
        }

        @media (max-width: 768px) {
          .app {
            flex-direction: column;
          }
          .sidebar {
            width: 100%;
            border-right: none;
            border-bottom: 1px solid rgba(0,0,0,0.06);
            flex-direction: row;
            flex-wrap: wrap;
            gap: 8px;
          }
          .sidebar-title {
            width: 100%;
          }
          .content {
            padding: 12px 10px 18px;
          }
          .poem-list-wrapper {
            padding: 8px 8px 4px;
          }
          .modal-sentence {
            font-size: 22px;
          }
        }
    </style>
</head>
<body>
<div class="app">
    <aside class="sidebar">
        <div class="sidebar-title">Rabbitçš„è¯—è¯åº“ Â· 10ä¸ªä¸»é¢˜</div>
        <!-- ä¾§è¾¹ä¸»é¢˜æŒ‰é’®é€šè¿‡ JS å¡«å…… -->
    </aside>

    <main class="content">
        <div class="header">
            <div class="header-title" id="currentThemeTitle">ä¸»é¢˜ï¼šèŠ±</div>
            <div class="header-desc">
                ç‚¹å‡»ä»»æ„ä¸€è¡Œå¤è¯—ï¼Œå¯ä»¥åœ¨
                <strong>é»‘è‰² â†’ ç²‰è‰²(ç‚¸å¼¹) â†’ ç»¿è‰²(å­å¼¹) â†’ ç´«è‰²(éå¸¸ä¸ç†Ÿæ‚‰) â†’ é»‘è‰²</strong>
                ä¹‹é—´å¾ªç¯åˆ‡æ¢ã€‚å³ä¾§ ğŸ‘ å¯ä»¥æ”¾å¤§æŸ¥çœ‹ã€‚
            </div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <span class="dot dot-black"></span><span>é»‘è‰²ï¼šé»˜è®¤ï¼Œå°šæœªç»ƒä¹  / æœªæ ‡è®°</span>
            </div>
            <div class="legend-item">
                <span class="dot dot-pink"></span><span>ç²‰è‰²ï¼šç‚¸å¼¹ï¼ˆå®Œå…¨è®°ä½ï¼‰</span>
            </div>
            <div class="legend-item">
                <span class="dot dot-green"></span><span>ç»¿è‰²ï¼šå­å¼¹ï¼ˆå·®ä¸å¤šè®°ä½ï¼‰</span>
            </div>
            <div class="legend-item">
                <span class="dot dot-red"></span><span>ç´«è‰²ï¼šéå¸¸ä¸ç†Ÿæ‚‰</span>
            </div>
        </div>

        <!-- æ˜¾ç¤ºæ¨¡å¼ + é«˜äº®æ¨¡å¼ -->
        <div class="mode-bar">
            <span class="mode-label">æ˜¾ç¤ºæ¨¡å¼ï¼š</span>
            <div class="mode-group">
                <button class="mode-btn" data-mode="full">æ˜¾ç¤ºå…¨éƒ¨</button>
                <button class="mode-btn" data-mode="first">åªæ˜¾ç¤ºé¦–å­—</button>
            </div>

            <span class="mode-label">é«˜äº®ï¼š</span>
            <div class="mode-group">
                <button class="mode-btn" data-highlight="on">é«˜äº®</button>
                <button class="mode-btn" data-highlight="off">ä¸é«˜äº®</button>
            </div>
        </div>

        <div class="poem-list-wrapper">
            <ul class="poem-list" id="poemList">
                <!-- è¯—å¥åˆ—è¡¨é€šè¿‡ JS æ¸²æŸ“ -->
            </ul>
        </div>

        <div class="hint">
            æç¤ºï¼šæ‰€æœ‰æ ‡è®°ä¼šè‡ªåŠ¨ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­ã€‚<br>
            å…³é”®å­—é«˜äº®åŒ…å«ï¼šèŠ±ã€æ˜¥ã€ç§‹ã€æœˆã€å±±ã€æ°´ã€é£ã€é¸Ÿã€æ•°ã€è‰²ã€ä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”ã€å…­ã€ä¸ƒã€å…«ã€ä¹ã€åã€ç™¾ã€åƒã€ä¸‡ã€çº¢ã€ç»¿ã€è“ã€é’ã€ç¢§ã€ç™½ã€é»‘ã€ç¿ ã€‚
        </div>
    </main>
</div>

<!-- Modal æµ®å±‚ -->
<div class="modal-overlay" id="modalOverlay">
    <div class="modal-dialog" id="modalDialog">
        <button class="modal-close" id="modalCloseBtn" aria-label="å…³é—­">Ã—</button>
        <div class="modal-title" id="modalTitle"></div>
        <div class="modal-sentence" id="modalSentence"></div>
        <div class="modal-meta" id="modalMeta"></div>
    </div>
</div>

<script>
    // ====== ä¸»é¢˜èœå•ï¼š10 ä¸ª ======
    const THEMES = [
      { id: "flower",   name: "èŠ±" },
      { id: "spring",   name: "æ˜¥" },
      { id: "autumn",   name: "ç§‹" },
      { id: "moon",     name: "æœˆ" },
      { id: "mountain", name: "å±±" },
      { id: "water",    name: "æ°´" },
      { id: "wind",     name: "é£" },
      { id: "bird",     name: "é¸Ÿ" },
      { id: "number",   name: "æ•°å­—" },
      { id: "color",    name: "é¢œè‰²" }
    ];

    // é«˜äº®å­—ç¬¦é›†åˆ
    const HIGHLIGHT_CHARS = [
      "èŠ±","æ˜¥","ç§‹","æœˆ","å±±","æ°´","é£","é¸Ÿ","æ•°","è‰²",
      "ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹","å","ç™¾","åƒ","ä¸‡",
      "çº¢","ç»¿","è“","é’","ç¢§","ç™½","é»‘","ç¿ "
    ];

    // ====== è¯—åº“ ======
    const POEMS = {
      flower: [
        {theme:"èŠ±",author:"åˆ˜å› ",dynasty:"å…ƒ",title:"å±±å®¶",sentence:"é†‰è¢–è¿é£å—è½èŠ±"},
        {theme:"èŠ±",author:"æç™½",dynasty:"å”",title:"ä¹æ—¥é¾™å±±é¥®",sentence:"ä¹æ—¥é¾™å±±é¥®ï¼Œé»„èŠ±ç¬‘é€è‡£"},
        {theme:"èŠ±",author:"ç‹å‹ƒ",dynasty:"å”",title:"ä¹æ—¥",sentence:"ä¹æ—¥é‡é˜³èŠ‚ï¼Œå¼€é—¨æœ‰èŠèŠ±"},
        {theme:"èŠ±",author:"å­Ÿæµ©ç„¶",dynasty:"å”",title:"æ˜¥æ™“",sentence:"å¤œæ¥é£é›¨å£°ï¼ŒèŠ±è½çŸ¥å¤šå°‘"},
        {theme:"èŠ±",author:"æå³¤",dynasty:"å”",title:"é£",sentence:"è§£è½ä¸‰ç§‹å¶ï¼Œèƒ½å¼€äºŒæœˆèŠ±"},
        {theme:"èŠ±",author:"é‚µé›",dynasty:"å®‹",title:"ä¸€å»äºŒä¸‰é‡Œ",sentence:"äº­å°å…­ä¸ƒåº§ï¼Œå…«ä¹åæèŠ±"},
        {theme:"èŠ±",author:"ç‹ç»´",dynasty:"å”",title:"ç”»",sentence:"æ˜¥å»èŠ±è¿˜åœ¨ï¼Œäººæ¥é¸Ÿä¸æƒŠ"},
        {theme:"èŠ±",author:"æç™½",dynasty:"å”",title:"èµ æ±ªä¼¦",sentence:"æ¡ƒèŠ±æ½­æ°´æ·±åƒå°ºï¼Œä¸åŠæ±ªä¼¦é€æˆ‘æƒ…"},
        {theme:"èŠ±",author:"æ¨ä¸‡é‡Œ",dynasty:"å®‹",title:"å°æ± ",sentence:"å°è·æ‰éœ²å°–å°–è§’ï¼Œæ—©æœ‰èœ»èœ“ç«‹ä¸Šå¤´"},
        {theme:"èŠ±",author:"ç‹å®‰çŸ³",dynasty:"å®‹",title:"å’æ¢…",sentence:"å¢™è§’æ•°ææ¢…ï¼Œå‡Œå¯’ç‹¬è‡ªå¼€"},
        {theme:"èŠ±",author:"å­Ÿæµ©ç„¶",dynasty:"å”",title:"è¿‡æ•…äººåº„",sentence:"å¾…åˆ°é‡é˜³æ—¥ï¼Œè¿˜æ¥å°±èŠèŠ±"},
        {theme:"èŠ±",author:"è‹è½¼",dynasty:"å®‹",title:"æƒ å´‡æ˜¥æ±Ÿæ™šæ™¯",sentence:"ç«¹å¤–æ¡ƒèŠ±ä¸‰ä¸¤æï¼Œæ˜¥æ±Ÿæ°´æš–é¸­å…ˆçŸ¥"},
        {theme:"èŠ±",author:"ç‹ç»´",dynasty:"å”",title:"é¸Ÿé¸£æ¶§",sentence:"äººé—²æ¡‚èŠ±è½ï¼Œå¤œé™æ˜¥å±±ç©º"},
        {theme:"èŠ±",author:"æ¨ä¸‡é‡Œ",dynasty:"å®‹",title:"æ™“å‡ºå‡€æ…ˆå¯ºé€æ—å­æ–¹",sentence:"æ¥å¤©è²å¶æ— ç©·ç¢§ï¼Œæ˜ æ—¥è·èŠ±åˆ«æ ·çº¢"},
        {theme:"èŠ±",author:"æœç‰§",dynasty:"å”",title:"æ¸…æ˜",sentence:"ç‰§ç«¥é¥æŒ‡æèŠ±æ‘ï¼Œå€Ÿé—®é…’å®¶ä½•å¤„æœ‰"},
        {theme:"èŠ±",author:"ç™½å±…æ˜“",dynasty:"å”",title:"å¿†æ±Ÿå—",sentence:"æ—¥å‡ºæ±ŸèŠ±çº¢èƒœç«"},
        {theme:"èŠ±",author:"æœç”«",dynasty:"å”",title:"ç»å¥äºŒé¦–Â·å…¶ä¸€",sentence:"è¿Ÿæ—¥æ±Ÿå±±ä¸½ï¼Œæ˜¥é£èŠ±è‰é¦™"},
        {theme:"èŠ±",author:"æœç”«",dynasty:"å”",title:"æ±Ÿç•”ç‹¬æ­¥å¯»èŠ±Â·å…¶äº”",sentence:"æ¡ƒèŠ±ä¸€ç°‡å¼€æ— ä¸»ï¼Œå¯çˆ±æ·±çº¢çˆ±æµ…çº¢"}
      ],
      spring: [
        {theme:"æ˜¥",author:"å­Ÿæµ©ç„¶",dynasty:"å”",title:"æ˜¥æ™“",sentence:"æ˜¥çœ ä¸è§‰æ™“ï¼Œå¤„å¤„é—»å•¼é¸Ÿ"},
        {theme:"æ˜¥",author:"æœç”«",dynasty:"å”",title:"æ˜¥å¤œå–œé›¨",sentence:"å¥½é›¨çŸ¥æ—¶èŠ‚ï¼Œå½“æ˜¥ä¹ƒå‘ç”Ÿ"},
        {theme:"æ˜¥",author:"ç‹ç»´",dynasty:"å”",title:"ç”»",sentence:"æ˜¥å»èŠ±è¿˜åœ¨ï¼Œäººæ¥é¸Ÿä¸æƒŠ"},
        {theme:"æ˜¥",author:"æç»…",dynasty:"å”",title:"æ‚¯å†œ",sentence:"æ˜¥ç§ä¸€ç²’ç²Ÿï¼Œç§‹æ”¶ä¸‡é¢—å­"},
        {theme:"æ˜¥",author:"ç‹ç»´",dynasty:"å”",title:"ç›¸æ€",sentence:"çº¢è±†ç”Ÿå—å›½ï¼Œæ˜¥æ¥å‘å‡ æ"},
        {theme:"æ˜¥",author:"ç‹ç»´",dynasty:"å”",title:"é€åˆ«",sentence:"æ˜¥è‰æ˜å¹´ç»¿ï¼Œç‹å­™å½’ä¸å½’"},
        {theme:"æ˜¥",author:"å­ŸéƒŠ",dynasty:"å”",title:"æ¸¸å­åŸ",sentence:"è°è¨€å¯¸è‰å¿ƒï¼ŒæŠ¥å¾—ä¸‰æ˜¥æ™–"},
        {theme:"æ˜¥",author:"æœ±ç†¹",dynasty:"å®‹",title:"æ˜¥æ—¥",sentence:"ç­‰é—²è¯†å¾—ä¸œé£é¢ï¼Œä¸‡ç´«åƒçº¢æ€»æ˜¯æ˜¥"},
        {theme:"æ˜¥",author:"å¶ç»ç¿",dynasty:"å®‹",title:"æ¸¸å›­ä¸å€¼",sentence:"æ˜¥è‰²æ»¡å›­å…³ä¸ä½ï¼Œä¸€æçº¢æå‡ºå¢™æ¥"},
        {theme:"æ˜¥",author:"è‹è½¼",dynasty:"å®‹",title:"æƒ å´‡æ˜¥æ±Ÿæ™šæ™¯",sentence:"ç«¹å¤–æ¡ƒèŠ±ä¸‰ä¸¤æï¼Œæ˜¥æ±Ÿæ°´æš–é¸­å…ˆçŸ¥"},
        {theme:"æ˜¥",author:"ç‹å®‰çŸ³",dynasty:"å®‹",title:"å…ƒæ—¥",sentence:"çˆ†ç«¹å£°ä¸­ä¸€å²é™¤ï¼Œæ˜¥é£é€æš–å…¥å± è‹"},
        {theme:"æ˜¥",author:"æœç”«",dynasty:"å”",title:"ç»å¥äºŒé¦–Â·å…¶ä¸€",sentence:"è¿Ÿæ—¥æ±Ÿå±±ä¸½ï¼Œæ˜¥é£èŠ±è‰é¦™"},
        {theme:"æ˜¥",author:"ç™½å±…æ˜“",dynasty:"å”",title:"èµ‹å¾—å¤åŸè‰é€åˆ«",sentence:"é‡ç«çƒ§ä¸å°½ï¼Œæ˜¥é£å¹åˆç”Ÿ"},
        {theme:"æ˜¥",author:"ç‹ç»´",dynasty:"å”",title:"é¸Ÿé¸£æ¶§",sentence:"äººé—²æ¡‚èŠ±è½ï¼Œå¤œé™æ˜¥å±±ç©º"}
      ],
      autumn: [
        {theme:"ç§‹",author:"ç‹ç»´",dynasty:"å”",title:"å±±å±…ç§‹æš",sentence:"ç©ºå±±æ–°é›¨åï¼Œå¤©æ°”æ™šæ¥ç§‹"},
        {theme:"ç§‹",author:"æç»…",dynasty:"å”",title:"æ‚¯å†œ",sentence:"æ˜¥ç§ä¸€ç²’ç²Ÿï¼Œç§‹æ”¶ä¸‡é¢—å­"},
        {theme:"ç§‹",author:"å¼ ç±",dynasty:"å”",title:"ç§‹æ€",sentence:"æ´›é˜³åŸé‡Œè§ç§‹é£ï¼Œæ¬²ä½œå®¶ä¹¦æ„ä¸‡é‡"},
        {theme:"ç§‹",author:"æœç”«",dynasty:"å”",title:"ç»å¥",sentence:"çª—å«è¥¿å²­åƒç§‹é›ªï¼Œé—¨æ³Šä¸œå´ä¸‡é‡Œèˆ¹"},
        {theme:"ç§‹",author:"æè´º",dynasty:"å”",title:"é©¬è¯—",sentence:"ä½•å½“é‡‘ç»œè„‘ï¼Œå¿«èµ°è¸æ¸…ç§‹"},
        {theme:"ç§‹",author:"æå³¤",dynasty:"å”",title:"é£",sentence:"è§£è½ä¸‰ç§‹å¶ï¼Œèƒ½å¼€äºŒæœˆèŠ±"},
        {theme:"ç§‹",author:"ç‹ç»©",dynasty:"å”",title:"é‡æœ›",sentence:"æ ‘æ ‘çš†ç§‹è‰²ï¼Œå±±å±±å”¯è½æ™–"},
        {theme:"ç§‹",author:"æœç‰§",dynasty:"å”",title:"ç§‹å¤•",sentence:"é“¶çƒ›ç§‹å…‰å†·ç”»å±ï¼Œè½»ç½—å°æ‰‡æ‰‘æµè¤"}
      ],
      moon: [
        {theme:"æœˆ",author:"æç™½",dynasty:"å”",title:"é™å¤œæ€",sentence:"åºŠå‰æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœ"},
        {theme:"æœˆ",author:"æç™½",dynasty:"å”",title:"é™å¤œæ€",sentence:"ä¸¾å¤´æœ›æ˜æœˆï¼Œä½å¤´æ€æ•…ä¹¡"},
        {theme:"æœˆ",author:"æç™½",dynasty:"å”",title:"å¤æœ—æœˆè¡Œ",sentence:"å°æ—¶ä¸è¯†æœˆï¼Œå‘¼ä½œç™½ç‰ç›˜"},
        {theme:"æœˆ",author:"åˆ˜ç¦¹é”¡",dynasty:"å”",title:"æœ›æ´åº­",sentence:"æ¹–å…‰ç§‹æœˆä¸¤ç›¸å’Œï¼Œæ½­é¢æ— é£é•œæœªç£¨"},
        {theme:"æœˆ",author:"ç‹ç»´",dynasty:"å”",title:"å±±å±…ç§‹æš",sentence:"æ˜æœˆæ¾é—´ç…§ï¼Œæ¸…æ³‰çŸ³ä¸Šæµ"},
        {theme:"æœˆ",author:"ç‹ç»´",dynasty:"å”",title:"é¸Ÿé¸£æ¶§",sentence:"æœˆå‡ºæƒŠå±±é¸Ÿï¼Œæ—¶é¸£æ˜¥æ¶§ä¸­"},
        {theme:"æœˆ",author:"ç‹æ˜Œé¾„",dynasty:"å”",title:"å‡ºå¡",sentence:"ç§¦æ—¶æ˜æœˆæ±‰æ—¶å…³ï¼Œä¸‡é‡Œé•¿å¾äººæœªè¿˜"},
        {theme:"æœˆ",author:"ç‹å®‰çŸ³",dynasty:"å®‹",title:"æ³Šèˆ¹ç“œæ´²",sentence:"æ˜¥é£åˆç»¿æ±Ÿå—å²¸ï¼Œæ˜æœˆä½•æ—¶ç…§æˆ‘è¿˜"},
        {theme:"æœˆ",author:"è¾›å¼ƒç–¾",dynasty:"å®‹",title:"è¥¿æ±ŸæœˆÂ·å¤œè¡Œé»„æ²™é“ä¸­",sentence:"æ˜æœˆåˆ«ææƒŠé¹Šï¼Œæ¸…é£åŠå¤œé¸£è‰"}
      ],
      mountain: [
        {theme:"å±±",author:"ç‹ä¹‹æ¶£",dynasty:"å”",title:"ç™»é¹³é›€æ¥¼",sentence:"ç™½æ—¥ä¾å±±å°½ï¼Œé»„æ²³å…¥æµ·æµ"},
        {theme:"å±±",author:"ç‹ç»´",dynasty:"å”",title:"é¹¿æŸ´",sentence:"ç©ºå±±ä¸è§äººï¼Œä½†é—»äººè¯­å“"},
        {theme:"å±±",author:"ç‹ç»´",dynasty:"å”",title:"ç”»",sentence:"è¿œçœ‹å±±æœ‰è‰²ï¼Œè¿‘å¬æ°´æ— å£°"},
        {theme:"å±±",author:"æç™½",dynasty:"å”",title:"ç‹¬åæ•¬äº­å±±",sentence:"ç›¸çœ‹ä¸¤ä¸åŒï¼Œåªæœ‰æ•¬äº­å±±"},
        {theme:"å±±",author:"æŸ³å®—å…ƒ",dynasty:"å”",title:"æ±Ÿé›ª",sentence:"åƒå±±é¸Ÿé£ç»ï¼Œä¸‡å¾„äººè¸ªç­"},
        {theme:"å±±",author:"é™†æ¸¸",dynasty:"å®‹",title:"æ¸¸å±±è¥¿æ‘",sentence:"å±±é‡æ°´å¤ç–‘æ— è·¯ï¼ŒæŸ³æš—èŠ±æ˜åˆä¸€æ‘"},
        {theme:"å±±",author:"æç™½",dynasty:"å”",title:"æœ›å¤©é—¨å±±",sentence:"ä¸¤å²¸é’å±±ç›¸å¯¹å‡ºï¼Œå­¤å¸†ä¸€ç‰‡æ—¥è¾¹æ¥"},
        {theme:"å±±",author:"å¼ å¿—å’Œ",dynasty:"å”",title:"æ¸”æ­Œå­",sentence:"è¥¿å¡å±±å‰ç™½é¹­é£ï¼Œæ¡ƒèŠ±æµæ°´é³œé±¼è‚¥"},
        {theme:"å±±",author:"ç‹ç»´",dynasty:"å”",title:"å±±å±…ç§‹æš",sentence:"ç©ºå±±æ–°é›¨åï¼Œå¤©æ°”æ™šæ¥ç§‹"},
        {theme:"å±±",author:"æ—å‡",dynasty:"å®‹",title:"é¢˜ä¸´å®‰é‚¸",sentence:"å±±å¤–é’å±±æ¥¼å¤–æ¥¼ï¼Œè¥¿æ¹–æ­Œèˆå‡ æ—¶ä¼‘"},
        {theme:"å±±",author:"ç‹ä¹‹æ¶£",dynasty:"å”",title:"å‡‰å·è¯äºŒé¦–Â·å…¶ä¸€",sentence:"é»„æ²³è¿œä¸Šç™½äº‘é—´ï¼Œä¸€ç‰‡å­¤åŸä¸‡ä»å±±"}
      ],
      water: [
        {theme:"æ°´",author:"éª†å®¾ç‹",dynasty:"å”",title:"å’é¹…",sentence:"ç™½æ¯›æµ®ç»¿æ°´ï¼Œçº¢æŒæ‹¨æ¸…æ³¢"},
        {theme:"æ°´",author:"ç‹ç»´",dynasty:"å”",title:"ç”»",sentence:"è¿œçœ‹å±±æœ‰è‰²ï¼Œè¿‘å¬æ°´æ— å£°"},
        {theme:"æ°´",author:"æç™½",dynasty:"å”",title:"èµ æ±ªä¼¦",sentence:"æ¡ƒèŠ±æ½­æ°´æ·±åƒå°ºï¼Œä¸åŠæ±ªä¼¦é€æˆ‘æƒ…"},
        {theme:"æ°´",author:"æ¨ä¸‡é‡Œ",dynasty:"å®‹",title:"å°æ± ",sentence:"æ³‰çœ¼æ— å£°æƒœç»†æµï¼Œæ ‘é˜´ç…§æ°´çˆ±æ™´æŸ”"},
        {theme:"æ°´",author:"ç™½å±…æ˜“",dynasty:"å”",title:"æ± ä¸Š",sentence:"å°å¨ƒæ’‘å°è‰‡ï¼Œå·é‡‡ç™½è²å›"},
        {theme:"æ°´",author:"è‹è½¼",dynasty:"å®‹",title:"æƒ å´‡æ˜¥æ±Ÿæ™šæ™¯",sentence:"ç«¹å¤–æ¡ƒèŠ±ä¸‰ä¸¤æï¼Œæ˜¥æ±Ÿæ°´æš–é¸­å…ˆçŸ¥"},
        {theme:"æ°´",author:"ç™½å±…æ˜“",dynasty:"å”",title:"å¿†æ±Ÿå—",sentence:"æ—¥å‡ºæ±ŸèŠ±çº¢èƒœç«ï¼Œæ˜¥æ¥æ±Ÿæ°´ç»¿å¦‚è“"},
        {theme:"æ°´",author:"å¼ å¿—å’Œ",dynasty:"å”",title:"æ¸”æ­Œå­",sentence:"è¥¿å¡å±±å‰ç™½é¹­é£ï¼Œæ¡ƒèŠ±æµæ°´é³œé±¼è‚¥"},
        {theme:"æ°´",author:"è‹è½¼",dynasty:"å®‹",title:"é¥®æ¹–ä¸Šåˆæ™´åé›¨",sentence:"æ°´å…‰æ½‹æ»Ÿæ™´æ–¹å¥½ï¼Œå±±è‰²ç©ºè’™é›¨äº¦å¥‡"},
        {theme:"æ°´",author:"ç™½å±…æ˜“",dynasty:"å”",title:"æš®æ±ŸåŸ",sentence:"ä¸€é“æ®‹é˜³é“ºæ°´ä¸­ï¼ŒåŠæ±Ÿç‘Ÿç‘ŸåŠæ±Ÿçº¢"},
        {theme:"æ°´",author:"åˆ˜ç¦¹é”¡",dynasty:"å”",title:"æœ›æ´åº­",sentence:"é¥æœ›æ´åº­å±±æ°´ç¿ ï¼Œç™½é“¶ç›˜é‡Œä¸€é’èº"},
        {theme:"æ°´",author:"æç™½",dynasty:"å”",title:"é»„é¹¤æ¥¼é€å­Ÿæµ©ç„¶ä¹‹å¹¿é™µ",sentence:"å­¤å¸†è¿œå½±ç¢§ç©ºå°½ï¼Œå”¯è§é•¿æ±Ÿå¤©é™…æµ"},
        {theme:"æ°´",author:"æç™½",dynasty:"å”",title:"æ—©å‘ç™½å¸åŸ",sentence:"æœè¾ç™½å¸å½©äº‘é—´ï¼Œåƒé‡Œæ±Ÿé™µä¸€æ—¥è¿˜"},
        {theme:"æ°´",author:"æœç‰§",dynasty:"å”",title:"ç§‹å¤•",sentence:"å¤©è¡—å¤œè‰²å‡‰å¦‚æ°´ï¼Œå§çœ‹ç‰µç‰›ç»‡å¥³æ˜Ÿ"},
        {theme:"æ°´",author:"èŒƒä»²æ·¹",dynasty:"å®‹",title:"æ±Ÿä¸Šæ¸”è€…",sentence:"æ±Ÿä¸Šå¾€æ¥äººï¼Œä½†çˆ±é²ˆé±¼ç¾"}
      ],
      wind: [
        {theme:"é£",author:"ä½šå",dynasty:"åŒ—æœ",title:"æ••å‹’æ­Œ",sentence:"é£å¹è‰ä½è§ç‰›ç¾Š"},
        {theme:"é£",author:"å­Ÿæµ©ç„¶",dynasty:"å”",title:"æ˜¥æ™“",sentence:"å¤œæ¥é£é›¨å£°ï¼ŒèŠ±è½çŸ¥å¤šå°‘"},
        {theme:"é£",author:"ç™½å±…æ˜“",dynasty:"å”",title:"èµ‹å¾—å¤åŸè‰é€åˆ«",sentence:"é‡ç«çƒ§ä¸å°½ï¼Œæ˜¥é£å¹åˆç”Ÿ"},
        {theme:"é£",author:"è´ºçŸ¥ç« ",dynasty:"å”",title:"å’æŸ³",sentence:"ä¸çŸ¥ç»†å¶è°è£å‡ºï¼ŒäºŒæœˆæ˜¥é£ä¼¼å‰ªåˆ€"},
        {theme:"é£",author:"é«˜é¼",dynasty:"æ¸…",title:"æ‘å±…",sentence:"å„¿ç«¥æ•£å­¦å½’æ¥æ—©ï¼Œå¿™è¶ä¸œé£æ”¾çº¸é¸¢"},
        {theme:"é£",author:"æœç”«",dynasty:"å”",title:"ç»å¥",sentence:"è¿Ÿæ—¥æ±Ÿå±±ä¸½ï¼Œæ˜¥é£èŠ±è‰é¦™"},
        {theme:"é£",author:"ç‹å®‰çŸ³",dynasty:"å®‹",title:"å…ƒæ—¥",sentence:"çˆ†ç«¹å£°ä¸­ä¸€å²é™¤ï¼Œæ˜¥é£é€æš–å…¥å± è‹"},
        {theme:"é£",author:"åˆ˜ç¦¹é”¡",dynasty:"å”",title:"æœ›æ´åº­",sentence:"æ½­é¢æ— é£é•œæœªç£¨"},
        {theme:"é£",author:"æœ±ç†¹",dynasty:"å®‹",title:"æ˜¥æ—¥",sentence:"ç­‰é—²è¯†å¾—ä¸œé£é¢ï¼Œä¸‡ç´«åƒçº¢æ€»æ˜¯æ˜¥"}
      ],
      bird: [
        {theme:"é¸Ÿ",author:"ä¸˜ä¸º",dynasty:"å”",title:"æ³›è‹¥è€¶æºªï¼ˆèŠ‚é€‰ï¼‰",sentence:"æ—¥æš®é¸Ÿé›€ç¨€ï¼Œç¨šå­å‘¼ç‰›å½’"},
        {theme:"é¸Ÿ",author:"å­Ÿæµ©ç„¶",dynasty:"å”",title:"æ˜¥æ™“",sentence:"æ˜¥çœ ä¸è§‰æ™“ï¼Œå¤„å¤„é—»å•¼é¸Ÿ"},
        {theme:"é¸Ÿ",author:"æŸ³å®—å…ƒ",dynasty:"å”",title:"æ±Ÿé›ª",sentence:"åƒå±±é¸Ÿé£ç»ï¼Œä¸‡å¾„äººè¸ªç­"},
        {theme:"é¸Ÿ",author:"ç‹ç»´",dynasty:"å”",title:"ç”»",sentence:"æ˜¥å»èŠ±è¿˜åœ¨ï¼Œäººæ¥é¸Ÿä¸æƒŠ"},
        {theme:"é¸Ÿ",author:"ç‹ç»´",dynasty:"å”",title:"é¸Ÿé¸£æ¶§",sentence:"æœˆå‡ºæƒŠå±±é¸Ÿï¼Œæ—¶é¸£æ˜¥æ¶§ä¸­"},
        {theme:"é¸Ÿ",author:"æç™½",dynasty:"å”",title:"ç‹¬åæ•¬äº­å±±",sentence:"ä¼—é¸Ÿé«˜é£å°½ï¼Œå­¤äº‘ç‹¬å»é—²"}
      ],
      number: [
        {theme:"æ•°å­—",author:"é‚µé›",dynasty:"å®‹",title:"å±±æ‘å’æ€€",sentence:"ä¸€å»äºŒä¸‰é‡Œï¼ŒçƒŸæ‘å››äº”å®¶"},
        {theme:"æ•°å­—",author:"é‚µé›",dynasty:"å®‹",title:"å±±æ‘å’æ€€",sentence:"äº­å°å…­ä¸ƒåº§ï¼Œå…«ä¹åæèŠ±"},
        {theme:"æ•°å­—",author:"æå³¤",dynasty:"å”",title:"é£",sentence:"è§£è½ä¸‰ç§‹å¶ï¼Œèƒ½å¼€äºŒæœˆèŠ±"},
        {theme:"æ•°å­—",author:"æå³¤",dynasty:"å”",title:"é£",sentence:"è¿‡æ±Ÿåƒå°ºæµªï¼Œå…¥ç«¹ä¸‡ç«¿æ–œ"},
        {theme:"æ•°å­—",author:"ç‹ä¹‹æ¶£",dynasty:"å”",title:"ç™»é¹³é›€æ¥¼",sentence:"æ¬²ç©·åƒé‡Œç›®ï¼Œæ›´ä¸Šä¸€å±‚æ¥¼"},
        {theme:"æ•°å­—",author:"æœç”«",dynasty:"å”",title:"ç»å¥",sentence:"ä¸¤ä¸ªé»„é¹‚é¸£ç¿ æŸ³ï¼Œä¸€è¡Œç™½é¹­ä¸Šé’å¤©"},
        {theme:"æ•°å­—",author:"éƒ‘æ¿æ¡¥",dynasty:"æ¸…",title:"å’é›ªè¯—",sentence:"ä¸€ç‰‡ä¸¤ç‰‡ä¸‰å››ç‰‡ï¼Œäº”å…­ä¸ƒå…«ä¹åç‰‡"},
        {theme:"æ•°å­—",author:"éƒ‘æ¿æ¡¥",dynasty:"æ¸…",title:"å’é›ªè¯—",sentence:"åƒç‰‡ä¸‡ç‰‡æ— æ•°ç‰‡ï¼Œé£å…¥èŠ¦èŠ±æ€»ä¸è§"},
        {theme:"æ•°å­—",author:"ç™½å±…æ˜“",dynasty:"å”",title:"èµ‹å¾—å¤åŸè‰é€åˆ«",sentence:"ä¸€å²ä¸€æ¯è£ï¼Œé‡ç«çƒ§ä¸å°½"},
        {theme:"æ•°å­—",author:"æ–½è‚©å¾",dynasty:"å”",title:"å¹¼å¥³è¯",sentence:"å¹¼å¥³æ‰å…­å²ï¼ŒæœªçŸ¥å·§ä¸æ‹™"},
        {theme:"æ•°å­—",author:"æç™½",dynasty:"å”",title:"ä¹æ—¥é¾™å±±é¥®",sentence:"ä¹æ—¥é¾™å±±é¥®ï¼Œé»„èŠ±ç¬‘é€è‡£"},
        {theme:"æ•°å­—",author:"ç‹å‹ƒ",dynasty:"å”",title:"ä¹æ—¥",sentence:"ä¹æ—¥é‡é˜³èŠ‚ï¼Œå¼€é—¨æœ‰èŠèŠ±"},
        {theme:"æ•°å­—",author:"é«˜é€‚",dynasty:"å”",title:"é™¤å¤œä½œ",sentence:"æ•…ä¹¡ä»Šå¤œæ€åƒé‡Œï¼Œéœœé¬“æ˜æœåˆä¸€å¹´"},
        {theme:"æ•°å­—",author:"å¼ ç±",dynasty:"å”",title:"ç§‹æ€",sentence:"æ´›é˜³åŸé‡Œè§ç§‹é£ï¼Œæ¬²ä½œå®¶ä¹¦æ„ä¸‡é‡"}
      ],
      color: [
        {theme:"é¢œè‰²",author:"ç‹ç»´",dynasty:"å”",title:"ç›¸æ€",sentence:"çº¢è±†ç”Ÿå—å›½ï¼Œæ˜¥æ¥å‘å‡ æ"},
        {theme:"é¢œè‰²",author:"å¶ç»ç¿",dynasty:"å®‹",title:"æ¸¸å›­ä¸å€¼",sentence:"æ˜¥è‰²æ»¡å›­å…³ä¸ä½ï¼Œä¸€æçº¢æå‡ºå¢™æ¥"},
        {theme:"é¢œè‰²",author:"æ¨ä¸‡é‡Œ",dynasty:"å®‹",title:"æ™“å‡ºå‡€æ…ˆå¯ºé€æ—å­æ–¹",sentence:"æ¥å¤©è²å¶æ— ç©·ç¢§ï¼Œæ˜ æ—¥è·èŠ±åˆ«æ ·çº¢"},
        {theme:"é¢œè‰²",author:"æœç”«",dynasty:"å”",title:"æ±Ÿç•”ç‹¬æ­¥å¯»èŠ±Â·å…¶äº”",sentence:"æ¡ƒèŠ±ä¸€ç°‡å¼€æ— ä¸»ï¼Œå¯çˆ±æ·±çº¢çˆ±æµ…çº¢"},
        {theme:"é¢œè‰²",author:"ç‹ä¹‹æ¶£",dynasty:"å”",title:"ç™»é¹³é›€æ¥¼",sentence:"ç™½æ—¥ä¾å±±å°½ï¼Œé»„æ²³å…¥æµ·æµ"},
        {theme:"é¢œè‰²",author:"éª†å®¾ç‹",dynasty:"å”",title:"å’é¹…",sentence:"ç™½æ¯›æµ®ç»¿æ°´ï¼Œçº¢æŒæ‹¨æ¸…æ³¢"},
        {theme:"é¢œè‰²",author:"æœç”«",dynasty:"å”",title:"ç»å¥",sentence:"ä¸¤ä¸ªé»„é¹‚é¸£ç¿ æŸ³ï¼Œä¸€è¡Œç™½é¹­ä¸Šé’å¤©"},
        {theme:"é¢œè‰²",author:"æç™½",dynasty:"å”",title:"å¤æœ—æœˆè¡Œ",sentence:"å°æ—¶ä¸è¯†æœˆï¼Œå‘¼ä½œç™½ç‰ç›˜"},
        {theme:"é¢œè‰²",author:"æç™½",dynasty:"å”",title:"æ—©å‘ç™½å¸åŸ",sentence:"æœè¾ç™½å¸å½©äº‘é—´ï¼Œåƒé‡Œæ±Ÿé™µä¸€æ—¥è¿˜"},
        {theme:"é¢œè‰²",author:"èŒƒæˆå¤§",dynasty:"å®‹",title:"å››æ—¶ç”°å›­æ‚å…´Â·å…¶äºŒåäº”",sentence:"æ¢…å­é‡‘é»„æå­è‚¥ï¼Œéº¦èŠ±é›ªç™½èœèŠ±ç¨€"},
        {theme:"é¢œè‰²",author:"æ–‡å¤©ç¥¥",dynasty:"å—å®‹",title:"è¿‡é›¶ä¸æ´‹",sentence:"äººç”Ÿè‡ªå¤è°æ— æ­»ï¼Ÿç•™å–ä¸¹å¿ƒç…§æ±—é’"},
        {theme:"é¢œè‰²",author:"ç‹å®‰çŸ³",dynasty:"å®‹",title:"æ³Šèˆ¹ç“œæ´²",sentence:"æ˜¥é£åˆç»¿æ±Ÿå—å²¸ï¼Œæ˜æœˆä½•æ—¶ç…§æˆ‘è¿˜"},
        {theme:"é¢œè‰²",author:"è´ºçŸ¥ç« ",dynasty:"å”",title:"å’æŸ³",sentence:"ç¢§ç‰å¦†æˆä¸€æ ‘é«˜ï¼Œä¸‡æ¡å‚ä¸‹ç»¿ä¸ç»¦"},
        {theme:"é¢œè‰²",author:"ç¿å·",dynasty:"å®‹",title:"ä¹¡æ‘å››æœˆ",sentence:"ç»¿éå±±åŸç™½æ»¡å·ï¼Œå­è§„å£°é‡Œé›¨å¦‚çƒŸ"},
        {theme:"é¢œè‰²",author:"ææ¸…ç…§",dynasty:"å®‹",title:"å¦‚æ¢¦ä»¤Â·æ˜¨å¤œé›¨ç–é£éª¤",sentence:"çŸ¥å¦ï¼ŒçŸ¥å¦ï¼Ÿåº”æ˜¯ç»¿è‚¥çº¢ç˜¦"},
        {theme:"é¢œè‰²",author:"ç™½å±…æ˜“",dynasty:"å”",title:"å¿†æ±Ÿå—Â·æ±Ÿå—å¥½",sentence:"æ—¥å‡ºæ±ŸèŠ±çº¢èƒœç«ï¼Œæ˜¥æ¥æ±Ÿæ°´ç»¿å¦‚è“"},
        {theme:"é¢œè‰²",author:"åˆ˜ç¦¹é”¡",dynasty:"å”",title:"æœ›æ´åº­",sentence:"é¥æœ›æ´åº­å±±æ°´ç¿ ï¼Œç™½é“¶ç›˜é‡Œä¸€é’èº"}
      ]
    };

    // ====== éŸ³æ•ˆï¼šç»Ÿä¸€ç‚¹å‡»å£° ======
    let audioCtx = null;
    function playClick() {
      try {
        if (!audioCtx) {
          const AC = window.AudioContext || window.webkitAudioContext;
          if (!AC) return;
          audioCtx = new AC();
        }
        if (audioCtx.state === "suspended") {
          audioCtx.resume();
        }
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = "square";
        osc.frequency.value = 880;
        osc.connect(gain);
        gain.connect(audioCtx.destination);

        const now = audioCtx.currentTime;
        gain.gain.setValueAtTime(0.15, now);
        gain.gain.exponentialRampToValueAtTime(0.001, now + 0.05);

        osc.start(now);
        osc.stop(now + 0.05);
      } catch (e) {}
    }

    // ====== çŠ¶æ€ç®¡ç† ======
    const STATUS_ORDER = ["default", "bomb", "bullet", "unfamiliar"];
    const STORAGE_KEY = "poemMemoryStatus_v1";
    const DISPLAY_MODE_KEY = "poemDisplayMode_v1";
    const HIGHLIGHT_MODE_KEY = "poemHighlightMode_v1";

    let statusMap = {};
    let displayMode = "full";   // full / first
    let highlightOn = true;     // é«˜äº®å¼€å…³

    function loadState() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (raw) statusMap = JSON.parse(raw) || {};
      } catch (e) { statusMap = {}; }

      try {
        const mode = localStorage.getItem(DISPLAY_MODE_KEY);
        if (mode === "full" || mode === "first") displayMode = mode;
      } catch (e) {}

      try {
        const h = localStorage.getItem(HIGHLIGHT_MODE_KEY);
        if (h === "on" || h === "off") highlightOn = (h === "on");
      } catch (e) {}
    }

    function saveStatus() {
      try { localStorage.setItem(STORAGE_KEY, JSON.stringify(statusMap)); } catch (e) {}
    }
    function saveDisplayMode() {
      try { localStorage.setItem(DISPLAY_MODE_KEY, displayMode); } catch (e) {}
    }
    function saveHighlightMode() {
      try { localStorage.setItem(HIGHLIGHT_MODE_KEY, highlightOn ? "on" : "off"); } catch (e) {}
    }

    function getNextStatus(current) {
      const idx = STATUS_ORDER.indexOf(current);
      if (idx === -1 || idx === STATUS_ORDER.length - 1) return STATUS_ORDER[0];
      return STATUS_ORDER[idx + 1];
    }

    function isThemeCompleted(themeId) {
      const list = POEMS[themeId] || [];
      if (list.length === 0) return false;
      for (let i = 0; i < list.length; i++) {
        const key = `${themeId}-${i}`;
        const st = statusMap[key] || "default";
        if (st !== "bomb") return false;
      }
      return true;
    }

    // ç®€å•è½¬ä¹‰ï¼ˆé˜²æ­¢ä¸‡ä¸€æœ‰ç‰¹æ®Šå­—ç¬¦ï¼‰
    function escapeHtml(str) {
      return (str || "")
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;");
    }

    // é«˜äº®é€»è¾‘
    function highlightSentence(text) {
      if (!highlightOn) {
        return escapeHtml(text);
      }
      const pattern = new RegExp("[" + HIGHLIGHT_CHARS.join("") + "]", "g");
      const safe = escapeHtml(text);
      return safe.replace(pattern, m => `<span class="highlight-word">${m}</span>`);
    }

    // æ ¹æ®æ˜¾ç¤ºæ¨¡å¼å¤„ç†æ–‡æœ¬
    function renderSentenceText(sentence) {
      let t = sentence || "";
      if (displayMode === "first") {
        t = t.charAt(0) || "";
      }
      return highlightSentence(t);
    }

    // ====== æ¸²æŸ“é€»è¾‘ ======
    const sidebarEl = document.querySelector(".sidebar");
    const poemListEl = document.getElementById("poemList");
    const currentThemeTitleEl = document.getElementById("currentThemeTitle");

    const displayModeButtons = document.querySelectorAll(".mode-btn[data-mode]");
    const highlightButtons   = document.querySelectorAll(".mode-btn[data-highlight]");

    const modalOverlay   = document.getElementById("modalOverlay");
    const modalDialog    = document.getElementById("modalDialog");
    const modalTitleEl   = document.getElementById("modalTitle");
    const modalSentenceEl= document.getElementById("modalSentence");
    const modalMetaEl    = document.getElementById("modalMeta");
    const modalCloseBtn  = document.getElementById("modalCloseBtn");

    let currentThemeId = "flower";

    function renderDisplayModeButtons() {
      displayModeButtons.forEach(btn => {
        const m = btn.dataset.mode;
        if (m === displayMode) btn.classList.add("active");
        else btn.classList.remove("active");
      });
    }

    function renderHighlightButtons() {
      highlightButtons.forEach(btn => {
        const h = btn.dataset.highlight;
        const isOn = (h === "on");
        if (isOn === highlightOn) btn.classList.add("active");
        else btn.classList.remove("active");
      });
    }

    function renderSidebar() {
      const titleNode = sidebarEl.querySelector(".sidebar-title");
      sidebarEl.innerHTML = "";
      sidebarEl.appendChild(titleNode);

      THEMES.forEach(theme => {
        const btn = document.createElement("button");
        btn.className = "theme-btn";
        if (theme.id === currentThemeId) btn.classList.add("active");
        btn.dataset.themeId = theme.id;

        const count = (POEMS[theme.id] || []).length;
        const completed = isThemeCompleted(theme.id);

        const mainSpan = document.createElement("span");
        mainSpan.className = "theme-main";

        const nameSpan = document.createElement("span");
        nameSpan.className = "theme-name";
        nameSpan.textContent = theme.name;

        const countSpan = document.createElement("span");
        countSpan.className = "theme-count";
        countSpan.textContent = `ï¼ˆ${count}ï¼‰`;

        mainSpan.appendChild(nameSpan);
        mainSpan.appendChild(countSpan);

        const rightSpan = document.createElement("span");
        rightSpan.className = "theme-right";
        if (completed) {
          const dot = document.createElement("span");
          dot.className = "theme-complete-dot";
          rightSpan.appendChild(dot);
        }

        btn.appendChild(mainSpan);
        btn.appendChild(rightSpan);
        sidebarEl.appendChild(btn);

        btn.addEventListener("click", () => {
          playClick();
          currentThemeId = theme.id;
          renderSidebar();
          renderPoems();
        });
      });
    }

    function renderPoems() {
      const themeMeta = THEMES.find(t => t.id === currentThemeId);
      currentThemeTitleEl.textContent = `ä¸»é¢˜ï¼š${themeMeta ? themeMeta.name : currentThemeId}`;

      poemListEl.innerHTML = "";
      const list = POEMS[currentThemeId] || [];

      list.forEach((poem, index) => {
        const key = `${currentThemeId}-${index}`;
        const currentStatus = statusMap[key] || "default";

        const li = document.createElement("li");
        li.className = `poem-item status-${currentStatus}`;
        li.dataset.key = key;

        const idxDiv = document.createElement("div");
        idxDiv.className = "poem-index";
        idxDiv.textContent = `${index + 1}.`;

        const contentDiv = document.createElement("div");
        contentDiv.className = "poem-content";

        const sentenceDiv = document.createElement("div");
        sentenceDiv.className = "poem-sentence";
        sentenceDiv.innerHTML = renderSentenceText(poem.sentence);

        const metaDiv = document.createElement("div");
        metaDiv.className = "poem-meta";
        metaDiv.textContent = `${poem.dynasty}Â·${poem.author}ã€Š${poem.title}ã€‹`;

        contentDiv.appendChild(sentenceDiv);
        contentDiv.appendChild(metaDiv);

        const eyeDiv = document.createElement("div");
        eyeDiv.className = "poem-eye";
        const eyeBtn = document.createElement("button");
        eyeBtn.className = "eye-btn";
        eyeBtn.innerHTML = "ğŸ‘";
        eyeBtn.title = "æ”¾å¤§æŸ¥çœ‹";
        eyeDiv.appendChild(eyeBtn);

        // ç‚¹å‡»æ•´è¡Œåˆ‡æ¢çŠ¶æ€
        li.addEventListener("click", () => {
          playClick();
          const oldStatus = statusMap[key] || "default";
          const next = getNextStatus(oldStatus);
          statusMap[key] = next;
          saveStatus();
          li.className = `poem-item status-${next}`;
          renderSidebar();
        });

        // çœ¼ç›æŒ‰é’®ï¼šæ‰“å¼€ Modal
        eyeBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          playClick();
          openModal(poem);
        });

        li.appendChild(idxDiv);
        li.appendChild(contentDiv);
        li.appendChild(eyeDiv);
        poemListEl.appendChild(li);
      });
    }

    // Modal
    function openModal(poem) {
      modalTitleEl.textContent = `${poem.dynasty}Â·${poem.author}ã€Š${poem.title}ã€‹`;
      modalSentenceEl.innerHTML = highlightSentence(poem.sentence); // Modal å§‹ç»ˆæ˜¾ç¤ºå®Œæ•´å¥å­ï¼Œå—é«˜äº®å¼€å…³å½±å“
      modalMetaEl.textContent = `ä¸»é¢˜ï¼š${poem.theme}`;
      modalOverlay.classList.add("active");
    }

    function closeModal() {
      modalOverlay.classList.remove("active");
    }

    modalCloseBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      playClick();
      closeModal();
    });

    modalOverlay.addEventListener("click", () => {
      playClick();
      closeModal();
    });

    modalDialog.addEventListener("click", (e) => {
      e.stopPropagation();
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        playClick();
        closeModal();
      }
    });

    // æ˜¾ç¤ºæ¨¡å¼æŒ‰é’®
    displayModeButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const mode = btn.dataset.mode;
        if (mode !== displayMode && (mode === "full" || mode === "first")) {
          playClick();
          displayMode = mode;
          saveDisplayMode();
          renderDisplayModeButtons();
          renderPoems();
        }
      });
    });

    // é«˜äº®æ¨¡å¼æŒ‰é’®
    highlightButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const h = btn.dataset.highlight;
        const newOn = (h === "on");
        if (newOn !== highlightOn) {
          playClick();
          highlightOn = newOn;
          saveHighlightMode();
          renderHighlightButtons();
          renderPoems();
        }
      });
    });

    // ====== åˆå§‹åŒ– ======
    loadState();
    renderDisplayModeButtons();
    renderHighlightButtons();
    renderSidebar();
    renderPoems();
</script>
</body>
</html>
