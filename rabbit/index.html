<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <title>Rabbit的诗词库 · 10个主题记忆记录表</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <div class="app">
        <!-- 左侧侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-title">
                <div class="sidebar-rabbit" id="rabbitLogo">🐰</div>
                <div class="sidebar-text">Rabbit的诗词库</div>
            </div>
            
            <!-- 特殊功能菜单 -->
            <div class="special-menu"></div>
            
            <!-- 侧边主题按钮通过 JS 填充 -->
        </aside>

        <!-- 右侧内容区 -->
        <main class="content">
            <!-- 彩蛋引导按钮 -->
            <div class="egg-guide-banner">
                <button class="egg-guide-btn" onclick="document.getElementById('rabbitParkBtn').click()">
                    <span class="guide-icon">🎁</span>
                    <span class="guide-text">点击这里直接进入彩蛋入口！</span>
                </button>
            </div>
            
            <!-- 顶部标题 + 花主题小游戏按钮 -->
            <div class="header">
                <div class="header-top">
                    <div class="header-title" id="currentThemeTitle">主题：花</div>

                    <!-- 只在当前主题为“花”时显示，由 JS 控制 -->
                    <button class="theme-game-btn" id="flowerGameBtn" style="display:none;">
                        🎮 花的小游戏
                    </button>
                </div>
            </div>

            <!-- 萝卜收集系统 -->
            <div class="carrot-system" id="carrotSystem">
                <div class="carrot-header">
                    <div>
                        <div class="carrot-title">
                            <span>🥕</span>
                            <span>兔兔的萝卜收集</span>
                        </div>
                    </div>
                    <div class="carrot-count">
                        <span>🥕</span>
                        <span id="carrotCount">0</span>
                    </div>
                </div>

                <div class="carrot-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%;">0%</div>
                    </div>
                    <div class="carrot-hint" id="carrotHint">
                        每标记一首诗为"完全记住"🐰,就能获得一个萝卜!
                    </div>
                </div>
            </div>

            <!-- 显示模式 + 高亮模式 -->
            <div class="mode-bar">
                <span class="mode-label">显示模式：</span>
                <div class="mode-group">
                    <button class="mode-btn" data-mode="full">显示全部</button>
                    <button class="mode-btn" data-mode="first">只显示首字</button>
                </div>

                <span class="mode-label">高亮：</span>
                <div class="mode-group">
                    <button class="mode-btn" data-highlight="on">高亮</button>
                    <button class="mode-btn" data-highlight="off">不高亮</button>
                </div>
            </div>

            <!-- 诗句列表 -->
            <div class="poem-list-wrapper">
                <ul class="poem-list" id="poemList">
                    <!-- 诗句列表通过 JS 渲染 -->
                </ul>
            </div>

            <!-- 成就系统 -->
            <div class="achievement-section">
                <div class="achievement-title">🏆 成就徽章</div>
                <div class="achievement-list">
                    <div class="achievement-item locked" id="achievement1">
                        <div class="achievement-icon">🏆</div>
                        <div class="achievement-info">
                            <div class="achievement-name">萝卜新手</div>
                            <div class="achievement-desc">收集10个萝卜</div>
                        </div>
                    </div>
                    <div class="achievement-item locked" id="achievement2">
                        <div class="achievement-icon">🏆</div>
                        <div class="achievement-info">
                            <div class="achievement-name">萝卜达人</div>
                            <div class="achievement-desc">收集50个萝卜</div>
                        </div>
                    </div>
                    <div class="achievement-item locked" id="achievement3">
                        <div class="achievement-icon">🏆</div>
                        <div class="achievement-info">
                            <div class="achievement-name">萝卜大师</div>
                            <div class="achievement-desc">收集100个萝卜</div>
                        </div>
                    </div>
                    <div class="achievement-item locked" id="achievement4">
                        <div class="achievement-icon">👑</div>
                        <div class="achievement-info">
                            <div class="achievement-name">诗词兔兔</div>
                            <div class="achievement-desc">完成全部主题</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal 浮层：放大显示单条诗句 -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-dialog" id="modalDialog">
            <button class="modal-close" id="modalCloseBtn" aria-label="关闭">×</button>
            <button class="modal-sound" id="modalSoundBtn" aria-label="朗读诗词">🔊</button>
            <div class="modal-title" id="modalTitle"></div>
            <div class="modal-sentence" id="modalSentence"></div>
            <div class="modal-meta" id="modalMeta"></div>
            
        </div>
    </div>
    
    <!-- 小游戏中心模态框 -->
    <div class="modal-overlay" id="gameCenterModal">
        <div class="modal-dialog game-center-dialog">
            <button class="modal-close" id="gameCenterCloseBtn" aria-label="关闭">×</button>
            <div class="modal-title">🎮 小游戏中心</div>
            <div class="game-center-content">
                <div class="game-grid" id="gameGrid">
                    <!-- 游戏列表通过 JS 渲染 -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- 兔子乐园模态框 -->
    <div class="modal-overlay" id="rabbitParkModal">
        <div class="modal-dialog rabbit-park-dialog">
            <button class="modal-close" id="rabbitParkCloseBtn" aria-label="关闭" onclick="document.getElementById('rabbitParkModal').classList.remove('active'); document.body.style.overflow = 'auto';">×</button>
            <div class="modal-title">🐇 兔子乐园</div>
            <div class="rabbit-park-content">
                <div class="rabbit-park-main">
                    
                    <div class="park-message" id="parkMessage">点击按钮和兔兔一起玩！</div>
                    <div class="park-game-area">
                        <div class="park-game-header">🥕 收获小游戏</div>
                        <div class="park-game-controls">
                            <button class="park-action-btn" id="startHarvestBtn"><span>▶️</span> 开始收获</button>
                            <div class="park-score">分数：<span id="harvestScore">0</span></div>
                        </div>
                        <div class="harvest-area" id="harvestArea"></div>
                    </div>
                    <div class="park-game-area">
                        <div class="park-game-header">🧠 记忆小游戏</div>
                        <div class="memory-controls">
                            <button class="park-action-btn" id="memoryStartBtn"><span>▶️</span> 开始记忆</button>
                            <div class="memory-status" id="memoryStatus">准备好了吗？</div>
                        </div>
                        <div class="memory-seq" id="memorySeq"></div>
                        <div class="memory-options" id="memoryOptions"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 先加载数据，再加载逻辑 -->
    <script src="data.js"></script>
    <script src="app.js"></script>
</body>

</html>
